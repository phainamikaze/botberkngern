<!DOCTYPE html>
<html>
  <head>
    <title>...</title>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <!-- <link href="style.css" rel="stylesheet"> -->
  </head>
  <body>
    <div id="root"></div>
    <script>
      window.extAsyncInit = function() {
        MessengerExtensions.getContext(
          '2240477206240741',
          function success(context) {
            window.attachApp(
              context.psid,
              context.thread_type
            );
          }, function error(err) {
            const userId = Math.floor(Math.random() * 4) + 1;
            window.attachApp(userId);
            console.log('errrrr');
          });
      };
      (function(d, s, id){
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) {return;}
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.com/en_US/messenger.Extensions.js";
        fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'Messenger'));
    </script>
  </body>
</html>